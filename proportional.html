<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Condorcet Internet Voting Service</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <link href="@CIVSURL@/images/check123b.png" rel="shortcut icon">
  <style>
    i {font-style: italic; font-family: "Times Roman", serif; font-size: 110%}
  </style>
</head>

<body>

<table class="banner" border="0" width="100%" cellspacing="0" cellpadding="7">
  <tbody><tr>
    <td width="100%" valign="top" nowrap>
      <h1>&nbsp;Condorcet Internet Voting
      Service</h1>
    </td>
    <td width=0% nowrap valign=top align=right>
	<a href="@CIVSHOME@">About CIVS</a><br>
	<a href="@CIVSURL@/civs_create.html">Create new poll</a><br>
	<a href="@CIVSURL@/sec_priv.html">About security and privacy</a><br>
	<a href="@CIVSURL@/faq.html">FAQ</a>
    </td>
  </tr>
  <tr>
    <td width="100%" valign="top" nowrap colspan=2>
      <h2 align="center">Proportional Representation in CIVS</h2>
    </td>
  </tr>
</tbody>
</table>
<div class="contents">

<h2>Overview</h2>

<p>
CIVS supports an experimental mode in which it can be used to select multiple
candidates while enforcing proportional representation. We refer to the
possible sets of selected candidates as <i>committees</i>. The goal is to pick
the best committee in a proportional way.  Roughly speaking, this means that a
set of voters can only influence a fraction of the selected committee that is
proportional to the number of voters in that set.
</p>

<p>
For example, suppose that 60% of the voters want candidates <i>a</i>, <i>b</i>,
<i>c</i>, <i>d</i>, and <i>e</i>, in that order, and 40% want <i>x</i>,
<i>y</i>, <i>z</i>, <i>u</i>, and <i>v</i>.  Ordinary Condorcet voting will
rank <i>a</i>, <i>b</i>, <i>c</i>, <i>d</i>, and <i>e</i> higher than the other
five candidates, because a majority likes them better. For some tasks, this is
the right way to run the election. However, if the election is selecting a
five-person committee to represent the whole population, choosing the committee
<i>abcde</i> would mean 40% have no representation at all. The proportional
representation algorithm used by CIVS would elect the committee <i>abcxy</i>,
achieving perfect proportional representation.

<p>In general, if there are <i>n</i> blocs of voters who always choose candidates from
their disjoint factions, the number of candidates from a given faction in the
selected committee is proportional to the number of voters, except that the
number of candidates may be rounded up or down.
</p>

<h2>Determining the winning committee</h2>

The rule used is a generalization of ordinary Condorcet
voting. First, the voters' preferences, expressed on
individual candidates, are lifted to obtain their preferences on whole <i>committees</i> of
<i>k</i> members. Then using the preferences on whole committees, a
standard Condorcet method is used to pick the &ldquo;best&rdquo;
committee in the Condorcet sense.
The key to making this method proportional
is to lift the preferences in a way that doesn't simply let a
majority dictate the composition of the entire committee.

<h3><i>f</i>-Preferences</h3>
<p>
Lifting preferences from candidates to committees
is achieved through what we call <i>f</i>-preferences.  A given voter
has an <i>f</i>-preference for possible committee <i>A</i> over another,
<i>B</i>, if the voter prefers <i>A</i> to <i>B</i> when considering
in each committee <b>only</b> the <i>f</i> candidates most preferred
by that voter.  For example, a voter has a 1-preference for committee <i>A</i> over
committee <i>B</i> if the voter' favorite candidate in committee <i>A</i> is preferred by
that voter over the voter's favorite candidate in committee <i>B</i>.  The voter has a
2-preference for committee <i>A</i> over committee <i>B</i> if the two favorite candidates on
committee 1 are preferred over the two favorite candidates on committee <i>B</i>.
Determining whether a given voter prefers one pair (or generally, set) of
candidates over another set is a separate issue that is discussed below.
</p>


<h3>Comparing committees</h3>
<p>
A Condorcet method requires that we be able to be able to compare two choices
pairwise, and derive the strength of the voters' preference between
each pair. In this case the choices are committees. To compare two committees,
we compute the aggregate <i>f</i>-preference of the voters for all values of
<i>f</i> between
1 and <i>k</i>. The aggregate <i>f</i>-preference for committee <i>A</i> over committee <i>B</i> is the
number of voters with an <i>f</i>-preference for <i>A</i> over <i>B</i>. 
</p>

<h3>Proportional preferences</h3>
<p>
Suppose that the number of voters
with an <i>f</i>-preference for committee A
over committee <i>B</i> is <i>v</i> and that there are
<i>n</i> voters overall. Then the <i>f</i>-preference for
committee <i>A</i> over committee <i>B</i> is <b>proportionally valid</b> if
<i>v</i>(<i>k</i>+1)/<i>n</i> &#8805; <i>f</i>.
Invalid preferences are usually ignored in deciding the winner; to decide whether
committee <i>A</i> is preferred over committee B, we find the
largest <i>f</i> such that <i>v</i> voters have a proportionally valid
<i>f</i>-preference for one of the two committees. This <i>v</i>
becomes the strength of the preference in the ordinary
Condorcet sense; we call this the <b>proportional preference</b>.
If there is no proportional preference
for one committee over the other, then the full <i>k</i>-preference
(the <b>nonproportional preference</b>) is used to break the tie. This rule allows majorities to break ties
in cases where the minority is indifferent.</p>
<p>For <i>k</i>=1, this voting
method is simply an ordinary Condorcet method. For
larger <i>k</i>, it yields proportional results. In the
initial example, the 60% have no proportionally valid preference for
<i>abcde</i> over <i>abcxy</i> because their maximum
proportionally valid preference is a 3-preference (because 3/6 &le; 60% &lt; 4/6).
The 40%, on the other hand, have a valid 2-preference for <i>abcxy</i>
(because 2/6 &le; 40% &lt; 3/6). Therefore, <i>abcxy</i>
is the winning committee, achieving proportionality.</p>

<h3>Fairness</h3>

<p>The factor (<i>k</i>+1) may be surprising in the condition for
proportional validity,
but it actually agrees with proportional representation election methods
developed elsewhere; it is analogous to the
<a href="http://www.encyclopedia4u.com/d/droop-quota.html">
Droop quota</a> used by many STV election methods.
Suppose the factor were changed to
<i>k</i>. In that case, a set of voters would be
unable to influence the selection of a candidate unless they were large
enough to form a bloc of size <i>n</i>/<i>k</i>. For example, suppose that <i>k</i>=2 and
a bare majority favors candidates <i>a</i> and <i>b</i>,
while a slightly smaller minority
favors <i>c</i> and <i>d</i>.
In this case the minority would have no valid preference
for <i>c</i> and the winners would be <i>ab</i>. However, the
right result is clearly <i>ac</i>. As long as the minority has
least 1/3 of the voters, it will be represented by <i>c</i>. If the
minority has less than 1/3, then we can view the majority as consisting
of two blocs deserving representation, both of which are larger than the minority.
So in that case the right result is <i>ab</i>, which is achieved because
a 2/3 majority has a valid 2-preference.
</p>
<p>
When the fraction
of voters in each bloc don't match perfectly with the attainable fractions
of seats, there is always some unfairness because some voters will be
overrepresented and some underrepresented. Using a <i>k</i>+1 factor
balances this unfairness so that a voter is overrepresented by at most
a (<i>k</i>+1)/<i>k</i> factor. In the example just given, at the 1/3
point the majority (2/3) bloc has 50% (3/2) overrepresentation if it wins and
the minority (1/3) bloc also has 50% overrepresentation if it wins.
Using a different criterion for when a proportional preference is valid
would result in a higher level of overrepresentation in some cases.
</p>

<h2>Determining a voter's preference</h2>

<p>We deferred the question of how to decide whether a voter prefers one set of
<i>f</i> candidates over another, where a set of candidates is a subset of a
committee. In proportional representation mode, there is only one difference
from the voter's perspective.  The voting algorithm decides which of two
committees would be preferred by a candidate using one of two criteria,
<i>combined weights</i> or <i>best candidate</i>.

<p>
<a name="combinedrating">
<strong>Combined weights.</strong>
</a>
In combined-weights mode, the voter gives a nonnegative <b>weight</b> to
each candidate instead of ranking the candidates. The voter's goal is to
maximize the sum of weights
of selected candidates. This is an appropriate criterion for elections where
the quality of all the candidates is important to the voters, such as
the election of an actual committee that will be voting on some issues.
Weights make it possible to compare
sets of candidates with different cardinality. For example,
suppose that a voter wants candidates <i>x</i>, <i>y</i>,
and <i>z</i>, in that
order, but would end up (because of the other voters'
preferences) choosing between <i>x</i> and the pair
<i>yz</i>. The
algorithm can't tell just from the rankings whether the
voter would prefer to have the better candidate
<i>x</i> or
greater representation under <i>yz</i>. Using weights, this
can be determined: if <i>x</i> is given a weight of
10 and <i>y</i> and <i>z</i> have weights 8 and 6 respectively, then the voting
algorithm will work on the voter's behalf towards electing
<i>yz</i> in preference to <i>x</i>, because 14 &gt; 10.
However, if <i>y</i> and <i>z</i> were instead given weights 4 and 2, the voter would have expressed that <i>x</i> is preferred to <i>yz</i>
because 6 &lt; 10.
</p>

<p>
<a name="bestcandidate">
<strong>Best candidate.</strong>
</a>
In best-candidate mode, the voter's goal is to get a single very good candidate
elected, and the quality of other elected candidates is a strictly secondary
consideration.  This is appropriate for an election where the voter really only
cares about the best candidate: for example, the selection of a set of entree
dishes for a menu, where the voter will only eat one of the entrees.  Here, two
committees are compared using their best candidates (according to the voter);
other candidates are considered only if the voter has no preference between the
best candidates. In the examples above, <i>x</i> would be preferred to
<i>yz</i> in either case, because <i>x</i> is preferred to <i>y</i>. If the
most-preferred candidate in each committee is equally preferred, then the
second-most preferred candidate is used, and so on up to candidate <i>f</i>.
</p>

<h2>Algorithm</h2>

<p>
The election method described above can be evaluated in
a brute-force form by computing a preference
matrix for all <i>f</i> in 1..<i>k</i>. This matrix has size
<b>C</b>(<i>c</i>,<i>k</i>)&times;<b>C</b>(<i>c</i>,<i>k</i>),
where <i>c</i> is the number of candidates, and <b>C</b> is
the combinatoric choose function. The storage and computational overhead of
this brute-force computation is prohibitive for even moderately
large <i>n</i> and <i>k</i>. Therefore, this is not how the actual
CIVS implementation works.
</p>

<p>
The current technique for identifying the winning committee is less
expensive but may be incomplete. The current implementation performs a local
search through the space of committees to identify the Schwartz set of
committees: all committees that are beaten only by other committees in
the set. (However, the correctness of the algorithm depends on a
currently unproved conjecture: that if improvement of a committee is
possible, it can be done by replacing one member at a time.) The
beatpath winner algorithm is run using all committees explored during
the search for the Schwartz set. An interactive form also allows
comparison of any two sets.  However, the output of the system in this
mode must be currently be interpreted with some caution: while no
counterexamples have been found, there is no proof that the current
implementation always finds the winning committee according to the
above criteria.
</p>
</div>

</body></html>
