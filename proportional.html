<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
  <meta http-equiv="Content-Type" content="text/html">

  <meta name="GENERATOR" content="Microsoft FrontPage 4.0">

  <meta name="ProgId" content="FrontPage.Editor.Document">
  <title>Condorcet Internet Voting Service</title>
</head>

<body>

<table border="0" width="100%" cellspacing="0" cellpadding="7">

  <tbody><tr>
    <td width="100%" bgcolor="#000080" valign="top" nowrap="nowrap">
      <h1><font color="white" face="sans-serif">&nbsp;Condorcet Internet Voting
      Service</font></h1>
    </td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#000080" valign="top" nowrap="nowrap">
      <h2 align="center"><font color="white" face="sans-serif">Proportional Representation</font></h2>
    </td>
  </tr>
</tbody>
</table>


<p>
CIVS now supports an experimental mode in which it can be
used to select multiple candidates while enforcing
proportional representation. That is, a set of voters can
only influence the selection of a fraction of the selected
candidates that is proportional to the number of voters.
</p>

<h2>Overview</h2>

<p>
For example, suppose that 60% of the voters want candidates
<i>A</i>, <i>B</i>, <i>C</i>, <i>D</i>, and <i>E</i>, in that order, and 40% want <i>X</i>, <i>Y</i>, <i>Z</i>, <i>U</i>, and <i>V</i>.
Ordinary Concorcet voting will rank
<i>A</i>, <i>B</i>, <i>C</i>, <i>D</i>, and <i>E</i> higher
than the other five candidates, because a majority likes
them better. For some tasks, this is the right way to run
the election. However, if the election is selecting a
five-person committee to
represent the whole population, 40% would have no representation
at all. The proportional representation algorithm used by
CIVS would elect the candidates <i>A</i>, <i>B</i>, <i>C</i>, <i>X</i>, and
<i>Y</i> (we will write this result as <span style="font-style: italic;">ABCXY</span>), achieving
perfect proportional representation.
</p>

<p>
</p>
<h2>Determining the winning committee<br>
</h2>

The rule used is a generalization of ordinary Condorcet
voting. The basic idea is to lift preferences expressed on
individual candidates to preferences on whole committees of
<i>k</i> members,
then use the Condorcet criterion to pick the ``best''
committee. The trick is to lift the preferences in a way
that doesn't simply let a majority dictate the composition
of the committee.

We say that a given voter has an <i>f</i>-preference for
possible committee <i>A </i> over another, <i>B</i>,
if voter prefers <i>A</i> to <i>B</i> when considering only
the <i>f</i> most preferred candidates on each committee.
We can compare any two possible committees for all values of
<i>f</i> from 1 to <i>k</i> by determining for each voter
and each value of <i>f</i> whether they have an <i>f</i>-preference for one of the two
committees over the other, and summing up the number of
voters with a preference for one and the number with a
preference for the other. Suppose that the number of voters
with a preference for committee 1 is <i>v</i> and there are
<i>n</i> voters overall. Then an <i>f</i>-preference for
committee 1 is <b>valid</b> if
&#8968;<i>vk</i>/<i>n</i>&#8969; &#8805; <i>f</i>.
Invalid preferences are usually ignored in deciding the winner; to decide whether
committee 1 is preferred over committee 2, we find the
largest <i>f</i> such that <i>v</i> voters have a valid
<i>f</i>-preference for one of the two committees. This <i>v</i>
becomes the strength of the preference in the ordinary
Condorcet sense. If there is no valid <i>f</i>-preference
for one committee over the other, then full <i>k</i>-preference
is used to break the tie. This allows majorities to break ties
in cases where the minority is indifferent.</p>
<p>For <i>k</i>=1, this voting
scheme is simply the ordinary Condorcet scheme because
of the ceiling operation. For
larger <i>k</i>, it yields proportional results. In the
above example, the 60% have no valid preference for
<i>ABCDE</i> over <i>ABCXY</i> because their maximum
valid preference is a 3-preference (60% = 3/5). The 40%, on the other hand,
have a valid 2-preference for the second result, so this is
the winning committee, as desired.</p>

<h2>Determining a voter's preference<br>
</h2>

<p>There is still the question of how to decide whether a voter prefers
one committee over another. In proportional representation mode, there
is only one difference from the voter's perspective: instead of ranking
the candidates, the voter gives
a nonnegative <b>weight</b> to each candidate. The voting algorithm
assumes that the voter's goal is to maximize the total weight
of selected candidates. Weights make it possible to compare
sets of candidates with different cardinality. For example,
suppose that a voter wants candidates <i>A</i>, <i>B</i>,
and <i>C</i>, in that
order, but would end up (because of the other voters'
preferences) choosing between <i>A</i> and the pair
<i>B</i><i>C</i>. The
algorithm can't tell just from the rankings whether the
voter would prefer to have the better candidate
<i>A</i> or 
greater representation under <i>B</i><i>C</i>. Using weights this can be determined: if <i>A</i> is given a weight of
10 and <i>B</i> and <i>C</i> have weights 8 and 6 respectively, then the voting
algorithm will (on the voter's behalf) work towards electing
<i>B</i><i>C</i> in preference to <i>A</i>, because 14 &gt; 10. However, if <span style="font-style: italic;">B</span> and <span style="font-style: italic;">C </span>were instead given weights 4 and 2, the voter would have expressed that <span style="font-style: italic;">A</span> is preferred to <span style="font-style: italic;">B</span><span style="font-style: italic;">C</span> because 6 &lt; 10.<br>

</p>


<h2>Algorithm</h2>

<p>
The difficulty with the scheme described above is that in
its brute-force form it requires computing a preference
matrix for all <i>f</i> in 1..<i>k</i>, and the matrix has size
<b>C</b>(<i>c</i>,<i>k</i>)&times;<b>C</b>(<i>c</i>,<i>k</i>)
where <i>c</i> is the number of candidates and <b>C</b> is
the choose function. The storage overhead is
prohibitive for large <i>n</i> and <i>k</i>.
</p>

<p>The current technique for identifying the winning committee is
less expensive but incomplete. The current implementation
performs a local search through the space of committees until one
is found that beats all "nearby" committees, where one committee
is "nearby" another committee if the two differ only by the replacement
of one member with another. From an arbitrary starting committee, 
a new nearby committee is selected if it beats the current committee. This
process is repeated until a committee is found that beats all nearby
committees.  I conjecture that this strategy will
always find the best committee if one exists. However, this conjecture
remains unproved. The current algorithm is unable to deal with cycles
among committees, either, and at the least it is necessary to run
a Condorcet completion algorithm on the Schwartz set (at least some
members of which I conjecture this algorithm will find.)
As a result, the output of the system in this mode must be currently
be interpreted with some caution.
</p>

</body></html>
